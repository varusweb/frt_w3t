<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Mulish:wght@400;600;700;900&display=swap" rel="stylesheet">
    <title>Fortuna Login Success</title>
    <style>
        .mt3 {
            margin-top: 2rem;
            margin-bottom: 2rem;
        }
        .card {
            position: relative;
			z-index: 1;
			background: rgb(56,248,211);
			background: linear-gradient(39deg, rgba(56,248,211,1) 0%, rgba(64,224,123,1) 100%);
			border-radius: 16px;
			padding: 20px 30px;
			max-width: 300px;
			margin-top: 15px;
        }
		.card:after {
			content: " ";
			display: block;
			position: absolute;
			top: 2px;
			left: 2px;
			z-index: 2;
			border-radius: 16px;
			width: calc(100% - 4px);
			height: calc(100% - 4px);
			background-color: #02070b;
		}
		.card * {
			position: relative;
			z-index: 3;
			color: #ffffff;
			
		}
		.icon-check {
			display: inline-block;
			width: 100px;
			height: 100px;
			margin-top: 2rem;
			margin: 1rem auto 0 auto;
			background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generated by IcoMoon.io --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='32' height='32' viewBox='0 0 32 32'%3E%3Cg id='icomoon-ignore'%3E%3C/g%3E%3Cpath d='M16 2.672c-7.361 0-13.328 5.967-13.328 13.328s5.968 13.328 13.328 13.328c7.361 0 13.328-5.967 13.328-13.328s-5.967-13.328-13.328-13.328zM16 28.262c-6.761 0-12.262-5.501-12.262-12.262s5.5-12.262 12.262-12.262c6.761 0 12.262 5.501 12.262 12.262s-5.5 12.262-12.262 12.262z' fill='%233CF3B5'%3E%3C/path%3E%3Cpath d='M22.667 11.241l-8.559 8.299-2.998-2.998c-0.312-0.312-0.818-0.312-1.131 0s-0.312 0.818 0 1.131l3.555 3.555c0.156 0.156 0.361 0.234 0.565 0.234 0.2 0 0.401-0.075 0.556-0.225l9.124-8.848c0.317-0.308 0.325-0.814 0.018-1.131-0.309-0.318-0.814-0.325-1.131-0.018z' fill='%233CF3B5'%3E%3C/path%3E%3C/svg%3E%0A");
			background-size: contain;
		}
		.card h1 {
			font-family: 'Montserrat', sans-serif;
			letter-spacing: -1px;
			font-size: 2.5rem;
			font-weight: 800;
			color: #3CF3B5 !important;
		}
		.card h1 b {
			color: #3CF3B5 !important;
		}
    </style>
	<script type="text/javascript">
		const userTonWalletRaw = '{{userWallet}}'; // отрезать первые 48 символов
		const userTonWallet = userTonWalletRaw.substring(0, 49);
		//alert(userTonWallet);
		
		function setCookie(key, value, expiry)
		{
			let expires = new Date();
			expires.setTime(expires.getTime() + (expiry * 24 * 60 * 60 * 1000));
			document.cookie = key + '=' + value + '; path=/; expires=' + expires.toUTCString();
		}
	
		setCookie("wallet", userTonWallet, 30);
		
		// редирект по таймауту
		setTimeout(function()
		{
			window.location.href = "https://fortuna.web3ton.pro/";
		}, 2000);
	</script>
</head>
<body style="background: url(https://web3ton.pro/images/main-bg.jpg) 0 0 no-repeat;" onload="init()">

<center>
    <div class="container">
        <div class="card">
			<i class="icon-check"></i>
            <h1 class="mt3 mb3"><b>Success</b></h1>
            <p>You have been succesfully logged into <a href="https://fortuna.web3ton.pro/">FORTUNA</a> as {{userWallet}}</p>
        </div>
    </div>
</center>



<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script type="text/javascript">
    function init() {
        const authRequestUrl = '{{requestEndpoint}}';
        const loginLink = 'https://app.tonkeeper.com/ton-login/' + authRequestUrl;

        document.getElementById('link').href = loginLink;;
        new QRCode(document.getElementById('qrcode'), loginLink);
    }
</script>
</body>
</html>